# Week-8-Project-Pentesting-Live-Targets

Time spent: 8.5 hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

<b>Vulnerability #1: SQL Injection:</b>

Most of the data input received by these websites is being sanitized properly. However, one of the three sites has one place where the input is not being sanitized before being used in an SQL query. Determine which color has the vulnerability.

 * Type in the following command in the url "id=%27" and we will see that <b>Database query failed, only in Blue website.</b>

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/SQL%20Injection-Blue.gif" width="800">

<b>Vulnerability #2: Session Hijacking/Fixation: </b>

Two of the three websites expire their active sessions and require users to re-login every 30 minutes. That is probably too aggressive for the real world, but it is better than the third site which allows sessions to be a year old, and never regenerates the session ID, even when the user agent string changes. This makes it vulnerable to both session hijacking and session fixation attacks.

 * I used the PHPSESSIONID from the Hackertools after logged on, copied the ID and pasted in different browser into the same possition Hackertools to match the target for log in. <b>Only works in Blue website.</b>

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/Session%20Hijacking:Fixation-Blue.gif" width="800">

## Green

<b>Vulnerability #1: Username Enumeration: </b>

A careless developer mistake has created a username enumeration vulnerability. Determine which color has the vulnerability. You can use the existing username "jmonroe99" as a test. Next, figure out what mistake the developer made.

* We are getting the error not in bold when not existing user tryies to log in. <b>Only shows in the Green website.</b>

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/User%20Enumeration-Green.gif" width="800">


Vulnerability #2: Cross-Site Scripting

All three sites do a good job of protecting against a reflected XSS attack. However, one of the sites has a mistake which leaves the site vulnerable to a stored XSS attack. A reflected XSS attack would be easy to reveal, while a stored XSS does not provide instant feedback. You will need to log into the admin area and look through the CMS in order to "spring the trap" and find out if your attack succeeded. Determine which color has the vulnerability. Use your name in the XSS so that your results won't be confused with anyone else's (example: <script>alert('Mallory found the XSS!');</script>).

* You the script only in the field "Your name:" and the Feedback afther the script has been sent it to, when we check the "Feedback" we will get the popup window.

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/Cross-Site%20Scripting-Green.gif" width="800">

## Red

<b>Vulnerability #1: Cross-Site Request Forgery: </b>

One of the three sites does not have CSRF protections on the admin area. A clever attacker could design a form which would automatically submit form data to the staff area and take advantage of a logged in user's access permissions. Be the attacker and design a form which will make a change to the spelling of some database content. (For example, change the first user from "James" to "Jim", or change "Alabama" to "Alabamaaaa".) Then point the form action at each of the three sites to find out which color has the vulnerability. Do not neglect to be stealthy with your formâ€”your unsuspecting, logged-in admin should neither see the form nor the results of the form submission.

 * Changing the CSRF tocken in inspect element to hack the user. Only works in the Red website in different collors gives us error.
 
 GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/Cross-Site%20Request%20Forgery-Red.gif" width="800">
 

Vulnerability #2: Insecure Direct Object Reference:

One of the three sites is missing code which would prevent some sensitive information from being made public. Determine which color has the vulnerability. Then, figure out what the other two sites did correctly to prevent the information leak.

 * By this attack it allows us to see people who should not appear on the page. Getting this by clicking on any people from the list and change the "id=" to 10 or 11 we will get the result, in the blue or green same action will show any result.
 
 GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/%20Insecure%20Direct%20Object%20Reference-Red.gif">


<b>The following advanced goals are optional:</b>

<b>Bonus Objective 1:</b> Build on Objective #3 (SQL Injection). Experiment to see what other kinds of information you can get the database to reveal.

For this challenge I needed to use Kali limux with SQLMAP commands, in order to receive all the names of all the available Data bases,
users list, all usernames, list of all possible tables and some other databases.

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/Bonus%20Objective%201%20SQL.gif">

<b>Bonus Objective 2:</b> Build on Objective #4 (Cross-Site Scripting). Experiment to see if you can use XSS to: a) direct the user to a new URL, b) read cookie data, c) set cookie data.

* Create a new script that inserting any link in it will redirect you to that website after you clik on "Feedback". 

GIF Walkthrough:
<img src="https://github.com/vkril/Week-8-Project-Pentesting-Live-Targets/blob/master/Bonus%20Objective%202.gif">


<b>Advanced Objective:</b> Build on Objectives #4 and #6 (XSS, hijacking/fixation). Are you able to execute a session hijacking or fixation attack using XSS instead of using the provided PHP script?

* We can create scripts that will read and take <b>session ID</b> and will insert in Contact Page Form this ID, Green webpage.
* Simililarly we can create the script that will write the <b>session ID</b> and will do the same action, Green webpage
* I was unable to provide the GIF walkthrough and test the scripts because I don't have permission to clear the data XSS in the Feedback page. 

## Notes

No challenges.
